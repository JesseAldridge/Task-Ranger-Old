
<script language="javascript" type="text/javascript" src="../lib/jquery.min.js"></script>
<script language="javascript" type="text/javascript" src="../lib/jquery.flot.js"></script>
<script language="javascript" type="text/javascript" src="../lib/jquery.flot.stack.js"></script>

<div id="placeholder" style="width:600px;height:300px;"></div>

<script id="source">
$(function () {
    // test data

    var proper_data = [
      {"label": "First",
        "data": [
          ["2013-03-09T05:00:00.000Z", 0],
          ["2013-03-10T05:00:00.000Z", 0.08597222222222221],
          ["2013-03-11T04:00:00.000Z", 0]
        ]
      },
      {
        "label": "Another",
        "data": [
          ["2013-03-09T05:00:00.000Z", 0],
          ["2013-03-10T05:00:00.000Z", 0.08597222222222221],
          ["2013-03-11T04:00:00.000Z", 0]
        ]
      }
    ] 

    // Date to string.    

    for(var ilayer = 0; ilayer < proper_data.length; ilayer++) {
        var points = proper_data[ilayer].data
        for(var ipoint = 0; ipoint < points.length; ipoint++)
            points[ipoint][0] = new Date(points[ipoint][0])
    }

    console.log('data:', JSON.stringify(proper_data))

    $.plot($("#placeholder"), proper_data, {
        series: {
            stack: true,
            lines: { show: true, fill: true, steps: true },
            bars: { show:true, barWidth:1, align: 'center' }
        },
        xaxis: {
            mode: "time",
            timeformat: "%m/%d",
        },
    });
});
</script>
